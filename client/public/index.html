<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deal Inspection App — Multi‑Deal</title>
  <link rel="icon" href="/assets/icon.png">
  <style>
    :root { --bg:#0b1220; --card:#121a2b; --ink:#e7ecf6; --muted:#9fb0d1; --accent:#6aa6ff; --ok:#6ee7a0; --warn:#ffcf5a; }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--ink)}
    header{padding:16px 20px;border-bottom:1px solid #1f2a44;display:flex;gap:12px;align-items:center}
    header h1{font-size:18px;margin:0;letter-spacing:.4px}
    main{max-width:1200px;margin:0 auto;padding:20px;display:grid;grid-template-columns: 1.15fr .85fr;gap:18px}
    .card{background:var(--card);border:1px solid #1f2a44;border-radius:16px;padding:14px}
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    input,select,textarea{width:100%;background:#0d1423;color:var(--ink);border:1px solid #26324f;padding:10px 12px;border-radius:10px;outline:none}
    textarea{min-height:90px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    button{background:var(--accent);color:#00122b;border:none;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    button.secondary{background:#1b2743;color:var(--ink);border:1px solid #26324f}
    .controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .pill{font-size:12px;padding:6px 10px;border-radius:999px;background:#14203a;border:1px solid #26324f;display:inline-block;color:var(--muted)}
    .meter{height:10px;background:#0d1423;border:1px solid #26324f;border-radius:999px;overflow:hidden}
    .meter>div{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--ok));transition:width 80ms linear}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:12px;color:var(--muted)}
    audio{width:100%}
    .list{display:flex;flex-direction:column;gap:8px}
    .item{background:#0d1423;border:1px dashed #2b3a61;border-radius:10px;padding:8px 10px;font-size:12px;color:var(--muted);display:flex;justify-content:space-between;gap:8px;align-items:center}
    .time{color:#9fb0d1}
    .active{border-style:solid;border-color:#6aa6ff}
    .ok{color:var(--ok)} .warn{color:var(--warn)}
    @media (max-width:1000px){main{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <h1>Deal Inspection — Multi‑Deal</h1>
    <span class="pill">One session · many deals · chunked upload</span>
  </header>
  <main>
    <section class="card">
      <div class="row">
        <div><label>Deal name</label><input id="dealName" placeholder="ACME · Ootbi (48TB)"></div>
        <div><label>Account</label><input id="account" placeholder="ACME Corp"></div>
      </div>
      <div class="row">
        <div><label>Stage</label>
          <select id="stage">
            <option value="">Select stage</option>
            <option>Qualification</option><option>Value Proposition</option><option>Proof of Concept</option>
            <option>Proposal</option><option>Negotiation</option><option>Closed Won</option><option>Closed Lost</option>
          </select>
        </div>
        <div><label>Amount (EUR)</label><input id="amount" type="number" min="0" step="1" placeholder="50000"></div>
      </div>
      <div class="row">
        <div><label>Close date</label><input id="closeDate" type="date"></div>
        <div><label>Next step (date)</label><input id="nextStepDate" type="date"></div>
      </div>
      <div class="row">
        <div><label>Next step</label><input id="nextStep" placeholder="Security review w/ CISO, Thu 10:00 CET"></div>
        <div><label>Competitors</label><input id="competitors" placeholder="XYZ, ABC..."></div>
      </div>
      <div><label>Notes</label><textarea id="notes" placeholder="Key pain, budget owner, timeline, risks..."></textarea></div>

      <hr style="border:none;border-top:1px solid #1f2a44;margin:14px 0">

      <div class="controls">
        <button id="btnStart">Start recording</button>
        <button id="btnStop" class="secondary" disabled>Stop</button>
        <button id="btnStartDeal" class="secondary" disabled>Start Deal</button>
        <button id="btnEndDeal" class="secondary" disabled>End Deal</button>
        <span id="status" class="mono">Idle.</span>
      </div>
      <div class="meter" style="margin-top:10px;"><div id="meterFill"></div></div>
      <div class="mono" id="duration">Duration: 00:00:00</div>
      <div style="margin-top:10px" id="preview"></div>
    </section>

    <aside class="card">
      <h3 style="margin-top:6px">Deals in this session</h3>
      <div id="dealsList" class="list"></div>
      <h3>Session</h3>
      <div class="mono" id="sid">—</div>
      <h3>Result</h3>
      <div id="resultBox" class="mono">—</div>
    </aside>
  </main>

  <script src="/src/app.js"></script>
</body>
</html>
